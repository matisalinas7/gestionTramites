<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/XHtml.xhtml to edit this template
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                template="#{layoutMB.template}">
    <ui:define name="metadata">
        <ui:param name="title" value="Trabajar con Articulo"/> <!-- Automatic create breadCrumb and page title when param 'title' is provided. --> 

        <style type="text/css">
            .ui-datatable .ui-datatable-header {
                text-align: right !important;
            }
        </style>
    </ui:define>

    <ui:define name="description">
        <h1>Informe Tramites Cancelados (sin documentacion)</h1>
    </ui:define>

    <ui:define name="body">
        <h:form id="formTramites">
    <div class="ui-g ui-fluid">
        <div class="ui-g-12 ui-md-2">
            <p:outputLabel for="fechaDesde" value="Fecha Desde" />
            <p:calendar id="fechaDesde" value="#{uiInformeTramitesCancelados.fechaDesde}" showOn="button" />
        </div>

        <div class="ui-g-12 ui-md-2">
            <p:outputLabel for="fechaHasta" value="Fecha Hasta" />
            <p:calendar id="fechaHasta" value="#{uiInformeTramitesCancelados.fechaHasta}" showOn="button" />
        </div>

        <div class="ui-g-12 ui-md-2">
            <p:outputPanel>
                <p:spacer height="5" />
                <p:commandButton id="brFind"
                                 value="Buscar"
                                 action="#{uiInformeTramitesCancelados.buscarTramites}"
                                 process="@form"
                                 update="tablaTramites"
                                 styleClass="btn-flat bg-black btn-states"
                                 partialSubmit="true" /> 
            </p:outputPanel>
        </div>
    </div>

    <!-- Tabla para mostrar los resultados -->
    <p:dataTable id="tablaTramites" var="tramite"
                 value="#{uiInformeTramitesCancelados.listaTramites}" 
                 emptyMessage="No se encontraron trámites"
                 style="margin-top:20px">

        <p:column headerText="Nro Trámite">
            <h:outputText value="#{tramite.nroTramite}" />
        </p:column>

        <p:column headerText="Fecha Inicio">
            <h:outputText value="#{tramite.fechaInicioTramite}">
                <f:convertDateTime pattern="dd/MM/yyyy" />
            </h:outputText>
        </p:column>

        <p:column headerText="Fecha Cancelado">
            <h:outputText value="#{tramite.fechaAnulacionTramite}">
                <f:convertDateTime pattern="dd/MM/yyyy" />
            </h:outputText>
        </p:column>

        <p:column headerText="Tipo Trámite">
            <h:outputText value="#{tramite.tipoTramite.nombreTipoTramite}" />
        </p:column>

        <p:column headerText="Precio">
            <h:outputText value="#{tramite.precioTramite}">
                <f:convertNumber currencySymbol="$" type="currency" />
            </h:outputText>
        </p:column>

    </p:dataTable>
</h:form>


    </ui:define>
</ui:composition>
